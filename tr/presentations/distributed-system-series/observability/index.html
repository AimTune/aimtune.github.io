<!doctype html><html lang=en><head><meta charset=utf-8><title>Observability ve OpenTelemetry Nedir?</title>
<meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=/reveal-js/dist/reset.css><link rel=stylesheet href=/reveal-js/dist/reveal.css><link rel=stylesheet href=/reveal-js/dist/theme/night.css id=theme><link rel=stylesheet href=/highlight-js/vs2015.min.css></head><body><div class=reveal><div class=slides><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h2 id=observability-nedir class="relative group">Observability Nedir? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#observability-nedir aria-label=Anchor>#</a></span></h2><p>(Sistem Gözlemlenebilirliği)<br><br></p><img src=/images/series/opentelemetry/opentelemetry-logo.png height=300 style=border:none;background-color:transparent></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><blockquote><p>All truths are easy to understand once they are discovered; the point is to <mark>discover</mark> them.<br>— <cite><strong>Galileo Galilei</strong></cite></p></blockquote><aside class=notes><p>Bütün hakikatler keşfedilince kolayca anlaşılır; önemli olan onları keşfetmektir.</p></aside></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><ul><li><p><strong>Tanım</strong>: Observability, uygulamaların canlı ortamda bile iç durumlarını dışa vuran veriler üreterek izlenebilmesini sağlayan bir yaklaşımdır. Aynı zamanda bir sistemin iç durumunu dış gözlemlerle anlama yeteneğini ifade eder ve dağıtık sistemlerde sistemin performansını izlemek ve hataları tespit etmek için kullanılır.</p></li><li><p><strong>Neden Önemli?</strong>: IDE&rsquo;de lokal olarak debug yapmak kolay. Ancak canlıda bir sorun yaşandığında sistemi gözlemleyebilmek için bazı verileri aktif olarak toplamamız gerekir.</p></li></ul></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h2 id=observabilitynin-3-temel-veri-tipi class="relative group">Observability&rsquo;nin 3 Temel Veri Tipi <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#observabilitynin-3-temel-veri-tipi aria-label=Anchor>#</a></span></h2></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><ol><li><p><strong>Log:</strong></p><ul><li><p>Sistemde meydana gelen olayların kaydıdır ve detaylı analiz yapma imkanı sunar.</p></li><li><p>Uygulamanın zaman bilgisini (timestamp), mesajı, sınıf/metot bilgilerini ve formatlanmış metinleri içerir.</p></li><li><p>Her yere log atmak sakıncalı olabilir, çünkü sistemde yük oluşturabilir.</p></li></ul></li></ol></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><ol start=2><li><p><strong>Metrics:</strong></p><ul><li><p>Yükü en hafif olan, sistem performansını gösteren sayısal veriler sağlar. (ör. CPU kullanımı, kuyruktaki istek sayısı, hata sayısı).</p></li><li><p>Uygulamadan veya container/servis mesh gibi katmanlardan toplanabilir.</p></li></ul></li></ol></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><ol start=3><li><p><strong>Tracing:</strong></p><ul><li><p>İşlemlerin dağıtık sistemlerde nasıl ilerlediğini izler. Özellikle mikroservisler arası isteklerin nasıl geçtiğini takip eder.</p></li><li><p><strong>Trace Data</strong>: Başlangıçtan bitişine kadar bir operasyonu (transaction) uçtan uca izlemek için oluşturulur (Bu veride hangi işlemle devam etti, işlem ne kadar sürdü gibi veriler vardır.).</p></li><li><p>Geniş çaplı (ör. bir HTTP request’in veritabanı işlemlerine kadar takibi) süreçlerde gereklidir.</p></li><li><p>Her yerde trace tutmak da kaynak tüketimini artırır; ihtiyaca göre konumlandırılmalıdır.</p></li></ul></li></ol></section></section><section data-noprocess data-shortcode-slide data-background=#222236 data-template=darkslide5><h2 id=observabilitynin-önemi class="relative group">Observability&rsquo;nin Önemi <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#observabilitynin-%c3%b6nemi aria-label=Anchor>#</a></span></h2><ul><li><p><strong>Hata Ayıklama</strong>: Performans ve hataların gerçek zamanlı izlenmesi.</p></li><li><p><strong>Proaktif İzleme</strong>: Sorunları önceden tespit etme ve çözüm üretme.</p></li><li><p><strong>Sistem Kararlılığı</strong>: Daha dayanıklı ve performanslı sistemler için kritik.</p></li></ul></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=opentelemetry-nedir class="relative group">OpenTelemetry Nedir? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#opentelemetry-nedir aria-label=Anchor>#</a></span></h3><ul><li><p><strong>Open</strong> açık kaynak olmasını, <strong>Tele</strong> uzaktan yapabilmesini ve <strong>Metry</strong> (<strong>Metron</strong>) ölçümü temsil eder. Bir gözlemlenebilirlik (observability) framework’üdür</p></li><li><p><strong>Log</strong>, <strong>trace</strong> ve <strong>metrics</strong> verilerini <strong>platform bağımsız</strong>, <strong>standart</strong> bir formatta üreterek istenilen hedefe aktarabilmeyi sağlar.</p></li><li><p>Her dilin kütüphanesi farklı veri formatları oluşturabilirken, <strong>OpenTelemetry</strong> bu verileri <strong>tek bir standarda</strong> oturtur.</p></li></ul></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=opentelemetry-nedir-1 class="relative group">OpenTelemetry Nedir? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#opentelemetry-nedir-1 aria-label=Anchor>#</a></span></h3><ul><li><p><strong>CNCF</strong> (Cloud Native Computing Foundation) tarafından desteklenir ve <strong>APM</strong> araçlarından bağımsız çalışır.</p></li><li><p><strong>OTLP</strong> protokolü sayesinde endüstri standartlarında veri toplayabilir.</p></li><li><p><strong>Jaeger</strong> ve <strong>Zipkin</strong> gibi araçlarla uyumlu çalışarak kapsamlı bir gözlemlenebilirlik çözümü sunar.</p></li></ul></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h3 id=apm-application-performance-monitoring-araçları class="relative group">APM (Application Performance Monitoring) Araçları <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#apm-application-performance-monitoring-ara%c3%a7lar%c4%b1 aria-label=Anchor>#</a></span></h3><ul><li><p><strong>Jaeger ve Zipkin</strong>: Özellikle <strong>tracing</strong> için kullanılan açık kaynaklı platformlardır. OpenTelemetry&rsquo;le uyumludurlar.</p></li><li><p><strong>Jaeger</strong>: Cassandra ve Elasticsearch gibi veri depolarını destekler.</p></li><li><p><strong>Zipkin</strong>: Tracing tarafında yine popüler açık kaynak bir çözümdür.</p></li><li><p>Özellikle bu iki araç log verisi istemezler; daha çok <strong>trace</strong> odaklı çalışırlar.</p></li></ul></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=apm-application-performance-monitoring-araçları-1 class="relative group">APM (Application Performance Monitoring) Araçları <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#apm-application-performance-monitoring-ara%c3%a7lar%c4%b1-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Elastic APM</strong>: Elastic tarafından geliştirilen bir Application Performance Monitoring çözümüdür. Uygulamaların performansını, hatalarını ve işlemler arasındaki gecikmeleri izleyebilmek için distribute tracing, log analizi ve metrik toplama özelliklerini bir arada sunar.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#222236 data-template=darkslide5><h3 id=apm-application-performance-monitoring-araçları-2 class="relative group">APM (Application Performance Monitoring) Araçları <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#apm-application-performance-monitoring-ara%c3%a7lar%c4%b1-2 aria-label=Anchor>#</a></span></h3><ul><li><strong>New Relic</strong>: SaaS tabanlı bir Application Performance Monitoring platformudur. Anlık performans metrikleri, hata takibi ve gelişmiş analiz araçları sunarak uygulamanızın uçtan uca izlenmesini sağlar. Kod seviyesinde detaylı tracing, kullanılabilirlik ölçümleri, gecikme analizleri gibi özelliklerle performans sorunlarını hızlıca tespit etmeye yardımcı olur.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#222236 data-template=darkslide5><h3 id=apm-application-performance-monitoring-araçları-3 class="relative group">APM (Application Performance Monitoring) Araçları <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#apm-application-performance-monitoring-ara%c3%a7lar%c4%b1-3 aria-label=Anchor>#</a></span></h3><ul><li><strong>Application Insights</strong>: Microsoft Azure ekosisteminin bir parçası olan Application Insights, canlı uygulamaların performans ve kullanım verilerini izlemek için kullanılan bir APM hizmetidir. Kullanıcı davranışlarını, istek performansını ve hataları gerçek zamanlı olarak takip etmeyi sağlar. Ayrıca, Azure’un diğer hizmetleriyle entegre çalışarak merkezi izleme, uyarı mekanizmaları ve veri analizi imkanları sunar.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=apm-application-performance-monitoring-araçları-4 class="relative group">APM (Application Performance Monitoring) Araçları <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#apm-application-performance-monitoring-ara%c3%a7lar%c4%b1-4 aria-label=Anchor>#</a></span></h3><ul><li>Bu tüm araçlarg genellikle önce gelen veri paketlerini kaydeder, sonrasında da <strong>indexleyerek</strong> sorgulanabilir ve görselleştirilebilir hale getirir.</li></ul></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h2 id=trace-data-nedir class="relative group">Trace Data Nedir? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#trace-data-nedir aria-label=Anchor>#</a></span></h2><ul><li><strong>Tracing</strong>, logların daha özelleşmiş bir formudur ve uygulamada meydana gelen olayları <strong>daha detaylı</strong> biçimde gösterir.</li><li>Bu sayede performansla ilgili problemleri, hangi adımda gecikme yaşandığını ve işlemlerin genel gidişatını inceleyebilirsiniz.</li><li>.NET 5 öncesindeki projelerde, <strong>System.Diagnostic.DiagnosticSource</strong> paketine ihtiyaç duyulur.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#0a0a0f data-template=darkslide2><h3 id=trace-data-içeriği class="relative group">Trace Data İçeriği <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#trace-data-i%c3%a7eri%c4%9fi aria-label=Anchor>#</a></span></h3><p>Bir <strong>trace</strong>, uygulamanın farklı katmanları veya bileşenleri arasındaki etkileşimleri ayrıntılı bir şekilde gösterir. Örneğin:</p><ul><li><strong>HTTP Request</strong>: İsteğin gönderilme ve alınma süresi.</li><li><strong>HTTP Response</strong>: Dönen cevabın içeriği ve genel yanıt süresi.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#0a0a0f data-template=darkslide2><h3 id=trace-data-içeriği-1 class="relative group">Trace Data İçeriği <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#trace-data-i%c3%a7eri%c4%9fi-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Veritabanı İşlemleri (DB)</strong>: Komutların (query, insert, update vb.) ne kadar sürdüğü ve hangi tabloların etkilendiği.</li><li><strong>Başka Bir API&rsquo;ye Çağrı (Another API)</strong>: Harici servis veya mikroservis iletişimi.</li><li><strong>Metot Çağrıları (Method)</strong>: Metot içerisinde gerçekleşen adımlar, parametreler ve süre bilgisi.</li><li><strong>Queue İşlemleri (Queue)</strong>: Sıralarda bekleyen mesajlar, gönderim ve tüketim süreleri.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#0a0a0f data-template=darkslide2><h3 id=trace-data-içeriği-2 class="relative group">Trace Data İçeriği <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#trace-data-i%c3%a7eri%c4%9fi-2 aria-label=Anchor>#</a></span></h3><p>Bu veriler, tek bir zincir (trace) üzerinde segmentler (span) şeklinde toplanır ve böylelikle <strong>uçtan uca</strong> bir görünürlük elde etmenizi sağlar.</p></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=kurulum class="relative group">Kurulum <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#kurulum aria-label=Anchor>#</a></span></h3><p><figure><img src=/images/series/opentelemetry/opentelemetry-package.png alt="OpenTelemetry Console Packages" class="mx-auto my-0 rounded-md"></figure><br>Bu paketleri yüklüyoruz.</p></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=console-demo class="relative group">Console Demo <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#console-demo aria-label=Anchor>#</a></span></h3><p><figure><img src=/images/series/opentelemetry/console-demo.png alt="OpenTelemetry Console Demo" class="mx-auto my-0 rounded-md"></figure></p></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=console-demo-1 class="relative group">Console Demo <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#console-demo-1 aria-label=Anchor>#</a></span></h3><p><figure><img src=/images/series/opentelemetry/console-demo-output.png alt="OpenTelemetry Console Demo Output" class="mx-auto my-0 rounded-md"></figure></p></section></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h2 id=opentelemetrydeki-temel-kavramlar class="relative group">OpenTelemetry&rsquo;deki Temel Kavramlar <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#opentelemetrydeki-temel-kavramlar aria-label=Anchor>#</a></span></h2></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h2 id=resource-nedir-ve-nasıl-yapılandırılır class="relative group">Resource Nedir ve Nasıl Yapılandırılır? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#resource-nedir-ve-nas%c4%b1l-yap%c4%b1land%c4%b1r%c4%b1l%c4%b1r aria-label=Anchor>#</a></span></h2><p>OpenTelemetry’de <strong>Resource</strong>, hangi servis veya uygulamanın veri ürettiğini tanımlayan ve telemetri (Trace, Metrics, Logs) verilerine bağlam kazandıran meta bilgileri içerir. Bu sayede, ürettiğiniz verilerin <strong>hangi servis</strong> tarafından, <strong>hangi sürümde</strong>, <strong>hangi ortamda</strong> (örn. dev, preprod, prod) veya <strong>hangi instance</strong> (kopya) üzerinden geldiğini anlayabilirsiniz.</p></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h3 id=resource-üzerinde-tanımlanabilen-bilgiler class="relative group">Resource Üzerinde Tanımlanabilen Bilgiler <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#resource-%c3%bczerinde-tan%c4%b1mlanabilen-bilgiler aria-label=Anchor>#</a></span></h3><ol><li><p><strong>Service Name</strong></p><ul><li>Uygulama veya servisin adı. (Örneğin: <code>PaymentService</code>)</li></ul></li><li><p><strong>Service Version</strong></p><ul><li>Uygulamanın hangi sürümünün çalıştığını belirtir. (Örneğin: <code>1.0.0</code>)</li></ul></li></ol></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h3 id=resource-üzerinde-tanımlanabilen-bilgiler-1 class="relative group">Resource Üzerinde Tanımlanabilen Bilgiler <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#resource-%c3%bczerinde-tan%c4%b1mlanabilen-bilgiler-1 aria-label=Anchor>#</a></span></h3><ol start=3><li><p><strong>Namespace</strong></p><ul><li>Bir uygulama veya servis ailesinin/alanının adı olarak düşünebilirsiniz. (Örneğin: <code>MyCompanyName.PaymentSystem</code>)</li></ul></li><li><p><strong>Instance</strong></p><ul><li>Servisin belirli bir kopyası. (Örneğin: <code>payment-service-instance-2</code>)</li></ul></li></ol></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h3 id=resource-üzerinde-tanımlanabilen-bilgiler-2 class="relative group">Resource Üzerinde Tanımlanabilen Bilgiler <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#resource-%c3%bczerinde-tan%c4%b1mlanabilen-bilgiler-2 aria-label=Anchor>#</a></span></h3><ol start=5><li><strong>Deployment Environment</strong> (örn. <code>dev</code>, <code>preprod</code>, <code>prod</code>)<ul><li><strong>Static property</strong> olarak veya değişken üzerinden tanımlayabilirsiniz. Böylece telemetri verilerinin <strong>hangi ortamdan</strong> geldiği kolayca anlaşılır.</li></ul></li></ol></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=örnek-resource-tanımı class="relative group">Örnek Resource Tanımı <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%c3%b6rnek-resource-tan%c4%b1m%c4%b1 aria-label=Anchor>#</a></span></h3><pre><code class=language-csharp data-line-numbers=1|2-12|3-6|7-11|14|15>var tracerProvider = Sdk.CreateTracerProviderBuilder()
    .SetResourceBuilder(
        ResourceBuilder.CreateDefault()
            .AddService(
              serviceName: &quot;PaymentService&quot;,
              serviceVersion: &quot;1.0.0&quot;)
            .AddAttributes(new Dictionary&lt;string, object&gt;
            {
                [&quot;deployment.environment&quot;] = &quot;dev&quot;, // Ortam bilgisi
                [&quot;service.instance.id&quot;] = &quot;instance-001&quot; // Instance
            })
    )
    // Exporter vb. diğer ayarlar
    .AddConsoleExporter()
    .Build();
</code></pre></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#222236 data-template=darkslide5><h2 id=agentsource-traceprovider class="relative group">AgentSource (TraceProvider) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#agentsource-traceprovider aria-label=Anchor>#</a></span></h2><ul><li><strong>Tanım</strong>: Uygulamada <strong>trace verilerinin üretildiği</strong> ana sınıflardır.</li><li><strong>Amaç</strong>: Trace verilerini oluşturarak, hangi işlemlerin ne kadar sürdüğünü ve hangi bileşenler arasında gerçekleştiğini izlememizi sağlar.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#222236 data-template=darkslide5><h3 id=agentsource-traceprovider-1 class="relative group">AgentSource (TraceProvider) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#agentsource-traceprovider-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Tasarım</strong>:<ul><li><strong>Static veya Singleton</strong> şeklinde tasarlanmalıdır, böylece uygulama içinde merkezi ve tutarlı bir yerden yönetilebilir.</li><li>Benzer şekilde, <code>namespace</code> yapısını kullanarak farklı <strong>traceleri</strong> mantıksal olarak ayırabilir veya gruplandırabilirsiniz.</li></ul></li></ul></section><section data-noprocess data-shortcode-slide data-background=#222236 data-template=darkslide5><h3 id=agentsource-traceprovider-2 class="relative group">AgentSource (TraceProvider) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#agentsource-traceprovider-2 aria-label=Anchor>#</a></span></h3><ul><li><strong>Faydalar</strong>:<ul><li>Uygulamanın belirli kısımlarından veya mikroservislerden üretilen verileri <strong>daha düzenli</strong> takip etme olanağı sunar.</li><li>Tek noktada konfigüre edildiğinden, <strong>kaynak yönetimi</strong> (örneğin, tek bir Tracer Provider üzerinden farklı bileşenlerin izlenmesi) kolaylaşır.</li><li><strong>Şeffaf gözlemlenebilirlik</strong> elde etmeye yardımcı olur, çünkü tüm izleme (tracing) aktiviteleri ortak bir kayıt noktası üzerinden yönetilir.</li></ul></li></ul></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h2 id=activity-span class="relative group">Activity (Span) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#activity-span aria-label=Anchor>#</a></span></h2><ul><li>Uygulamadaki her bir operasyon, bir <strong>span</strong> (örneğin: HTTP isteği, veritabanı çağrısı, dosya yazma) şeklinde temsil edilir.</li><li>Bu span’lerin bir araya gelmesiyle bir <strong>trace</strong> (işlem bütünlüğü) oluşur.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h4 id=span-içeriği class="relative group">Span İçeriği <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#span-i%c3%a7eri%c4%9fi aria-label=Anchor>#</a></span></h4><ul><li><strong>Start-end time</strong>: Span’in başlama ve bitiş zamanı</li><li><strong>Success-failure</strong>: İşlemin başarılı mı yoksa hatalı mı sonuçlandığı</li><li><strong>Span kind</strong>: Span’in rolü (client, server, consumer, producer, internal)</li><li><strong>Attributes/Tags</strong>: Operasyona dair ek bilgiler (örn. kullanıcı kimliği, sürüm bilgisi vb.)</li><li><strong>Events</strong>: Span sürecindeki belirli olaylar veya kontrol noktaları (checkpoints)</li></ul></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h3 id=span-ve-trace-arasındaki-ilişki class="relative group">Span ve Trace Arasındaki İlişki <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#span-ve-trace-aras%c4%b1ndaki-ili%c5%9fki aria-label=Anchor>#</a></span></h3><ul><li><strong>Span</strong>: Tek bir operasyonu temsil eder.</li><li><strong>Trace</strong>: Birden fazla span’in birleşerek oluşturduğu, uçtan uca bütün bir işlemi ifade eder.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h4 id=activity-span-kind class="relative group">Activity (Span) Kind <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#activity-span-kind aria-label=Anchor>#</a></span></h4><ul><li><strong>Internal</strong>: Uygulama içindeki dahili bir işlemi ifade eder.</li><li><strong>Server</strong>: İstekleri sunucu tarafında karşılayan veya işleyen taraftır.</li><li><strong>Client</strong>: Dış bir kaynağa veya hizmete istek gönderen taraftır.</li><li><strong>Producer</strong>: Mesaj veya veri üreterek bir kuyruğa, topic’e veya başka bir yere yayımlayan taraftır.</li><li><strong>Consumer</strong>: Yayınlanmış mesajları veya event’leri alan ve işleyen taraftır.</li></ul></section></section><section data-noprocess data-shortcode-slide data-background=#222236 data-template=darkslide5><h2 id=event class="relative group">Event <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#event aria-label=Anchor>#</a></span></h2><ul><li><strong>Event</strong>, bir span’in (Activity) içerisindeki belirli bir olayı veya noktayı temsil eder.</li><li><strong>Log benzeri</strong> bir yapısı olsa da <strong>in-memory</strong> tutulduğu için (doğrudan bellekte saklanır), çok sık kullanılması <strong>yüksek maliyet</strong> doğurabilir.</li><li>Örneğin, “Bu dosyayı oluşturdum, boyutu 50 KB” şeklindeki bir bilgiyi <strong>Event</strong> olarak ekleyebilirsiniz.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h2 id=activityspan-status class="relative group">Activity(Span) Status <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#activityspan-status aria-label=Anchor>#</a></span></h2><p>Bir span’in durumunu belirlemek için üç temel <strong>Status</strong> tipi vardır:</p><ul><li><strong>Ok</strong></li><li><strong>Error</strong></li><li><strong>Unset</strong></li></ul><p>Başarısız bir işlem (ör. istisna, hata kodu) oluştuğunda span durumunu <strong>Error</strong> olarak ayarlayabilirsiniz.</p></section><section data-noprocess data-shortcode-slide data-background=#1a1a28 data-template=darkslide4><h2 id=tag-attributes class="relative group">Tag (Attributes) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#tag-attributes aria-label=Anchor>#</a></span></h2><ul><li>Span’e ek bilgi (metadata) eklemek için kullanılır.</li><li><strong>Örnek:</strong> Sipariş ID, kullanıcı ID, işlem türü gibi bilgileri, span ile ilişkilendirerek daha ayrıntılı takip edebiliriz.</li><li>İleride analiz yaparken veya sorun giderirken, bu etiketler sayesinde hangi işlemin hangi kullanıcı veya siparişle ilgili olduğunu hızlıca bulabilirsiniz.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=correlations-in-process class="relative group">Correlations (In-Process) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#correlations-in-process aria-label=Anchor>#</a></span></h3><ul><li>Bir uygulama içindeki veya farklı servisler arasındaki <strong>span</strong>’lerin birbirine bağlı olduğu durumu ifade eder.</li><li>İstek, bir servis/uygulamadan diğerine aktarıldığında, <strong>traceId</strong> paylaşılır ve böylece bütün <strong>istek zinciri</strong> aynı iz (trace) altında toplanır.</li><li>Bu sayede <strong>APM</strong> (Application Performance Monitoring) araçlarında tek bir iz (trace) içerisinde, çoklu servis ve işlem adımlarını <strong>uçtan uca</strong> takip edebilirsiniz.</li></ul></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#0a0a0f data-template=darkslide2><h2 id=activitycurrent class="relative group">Activity.Current <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#activitycurrent aria-label=Anchor>#</a></span></h2><ul><li><strong>Tanım</strong>: .NET uygulamalarında <strong>halihazırda etkin (aktif) olan <code>Activity</code> nesnesine</strong> (span) erişim sağlar.</li><li><strong>Kullanım</strong>: Aşağıdaki örnek, <code>Activity.Current</code> üzerinden mevcut işlem (span) bilgisini elde etmeye yarar. Örneğin, etiket eklemek veya durum güncellemesi yapmak istediğinizde <code>Activity.Current?.SetTag("key", "value")</code> şeklinde çağrı yapabilirsiniz.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#0a0a0f data-template=darkslide2><h3 id=activitycurrent-1 class="relative group">Activity.Current <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#activitycurrent-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Örnek Senaryo</strong>:<ol><li><strong>Bir HTTP isteği</strong> geldiğinde, yeni bir <code>Activity</code> başlatılır (veya otomatik başlatılır).</li><li>Bu süreçte, <strong><code>Activity.Current</code></strong> o anki isteği temsil eden span’i gösterir.</li><li>Ek etiketler, event’ler veya hata durumlarıyla ilgili kayıtlar bu aktif <code>Activity</code> üzerinden yapılır.</li></ol></li></ul><p><strong>Önemli Not</strong>: <code>Activity.Current</code>, her zaman aktif bir işlem (span) olmayabilir. Bu nedenle, kod yazarken <code>null</code> durumlarını dikkate almak gereklidir.</p></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background=#0a0a0f data-template=darkslide2><h2 id=activitylistener class="relative group">ActivityListener <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#activitylistener aria-label=Anchor>#</a></span></h2><ul><li><strong>Tanım</strong>: .NET uygulamalarında, oluşturulan veya bitirilen <code>Activity</code> (yani Span) nesnelerini <strong>dinlemek</strong> (listen) ve yönetmek için kullanılan bir mekanizmadır.</li><li><strong>Amaç</strong>: Uygulamada hangi <code>Activity</code>’lerin (işlemlerin) <strong>izlenmesi</strong>, <strong>örneğin</strong> hangilerinin kaydedilmesi veya kaydedilmemesi gerektiğine karar vermenizi sağlar.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#0a0a0f data-template=darkslide2><h2 id=activitylistener-1 class="relative group">ActivityListener <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#activitylistener-1 aria-label=Anchor>#</a></span></h2><ul><li><strong>Nasıl Çalışır</strong>:<ol><li><strong>ActivityListener</strong> nesnesi oluşturulur.</li><li>İlgili geribildirim (callback) yöntemleri tanımlanır, örneğin:<ul><li><code>ShouldListenTo</code> (hangi <code>ActivitySource</code>’ları dinlemek istediğimizi belirtir)</li><li><code>Sample</code> (hangi <code>Activity</code>’lerin başlatılıp başlatılmayacağına karar verir)</li><li><code>ActivityStarted</code>/<code>ActivityStopped</code> (bir <code>Activity</code> başladığında veya bittiğinde çalışacak event metodları)</li></ul></li><li>Bu listener, <strong>ActivitySource</strong> nesnesine veya genel <code>ActivitySource.AddActivityListener(activityListener)</code> gibi bir API üzerinden eklenir.</li></ol></li></ul></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h4 id=örnek-kullanım class="relative group">Örnek Kullanım <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%c3%b6rnek-kullan%c4%b1m aria-label=Anchor>#</a></span></h4><pre><code class=language-csharp data-line-numbers=1|2|8-36|10-15|17-23|25-29|31-35|38-39>using System;
using System.Diagnostics;

public class ActivityListenerExample
{
    public static void SetupListener()
    {
        var listener = new ActivityListener
        {
            // Hangi ActivitySource'ları dinleyeceğimize karar veriyoruz.
            ShouldListenTo = (activitySource) =&gt;
            {
                // Örneğin, &quot;MyCompany.MyApp&quot; adındaki ActivitySource’lara izin ver
                return activitySource.Name.Contains(&quot;MyCompany.MyApp&quot;);
            },

            // Activity oluşturulmadan önce “örnekleme” kararı veriyoruz (ör. kaydetsin mi kaydetmesin mi).
            Sample = (ref ActivityCreationOptions&lt;ActivityContext&gt; options) =&gt;
            {
                // Belli bir mantığa göre (ör. rastgele yüzdelik, environment bilgisi vb.) karar verebilirsiniz.
                // Örnekte tüm Activity'leri kaydediyoruz:
                return ActivitySamplingResult.AllDataAndRecorded;
            },

            // Activity başladığında çalışacak callback
            ActivityStarted = activity =&gt;
            {
                Console.WriteLine($&quot;Activity Started: {activity.DisplayName}&quot;);
            },

            // Activity bittiğinde çalışacak callback
            ActivityStopped = activity =&gt;
            {
                Console.WriteLine($&quot;Activity Stopped: {activity.DisplayName}&quot;);
            }
        };

        // Listener'ı default ActivitySource'a ekliyoruz.
        ActivitySource.AddActivityListener(listener);
    }
}
</code></pre></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=bu-örnekte class="relative group">Bu Örnekte <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#bu-%c3%b6rnekte aria-label=Anchor>#</a></span></h3><ul><li><strong>ShouldListenTo</strong>: Hangi <strong>ActivitySource</strong>’ları dinlemek istediğimizi belirtiyoruz.</li><li><strong>Sample</strong>: Hangi <strong>Activity</strong>’lerin gerçekten oluşturulacağını veya kaydedileceğini kontrol edebiliyoruz.</li><li><strong>ActivityStarted</strong> ve <strong>ActivityStopped</strong>: Oluşturulan <strong>Activity</strong>’lerin başlangıç ve bitiş anlarında özel işlem yapabiliyoruz (örnek olarak konsola yazma).</li></ul></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=neden-önemli class="relative group">Neden Önemli? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#neden-%c3%b6nemli aria-label=Anchor>#</a></span></h3><ul><li><strong>Filtreleme</strong>: Çok fazla <strong>Activity</strong> oluşturulduğunda, dinlemek istediklerimizi kısıtlayarak sistem yükünü azaltabilirsiniz.</li><li><strong>Merkezi Yönetim</strong>: Tracing mantığını uygulamanın çeşitli yerlerine serpmek yerine, tek bir noktadan (<strong>ActivityListener</strong>) yönetebilirsiniz.</li></ul></section><section data-noprocess data-shortcode-slide data-background=#12121c data-template=darkslide3><h3 id=neden-önemli-1 class="relative group">Neden Önemli? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#neden-%c3%b6nemli-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Esneklik</strong>: Gerçek zamanlı olarak hangi span’lerin kaydedilmesi gerektiğini değiştirerek (örneğin, hata modunda tüm tracing’i aktif hale getirerek) sistem davranışını dinamik olarak ayarlayabilirsiniz.</li><li><strong>İnce Ayar</strong>: Özel mantıklar (ör. belirli bir kullanıcıya veya siparişe ait <strong>Activity</strong>’leri kaydetme) tanımlayarak ince düzeyde kontrol sağlayabilirsiniz.</li></ul></section></section><section data-noprocess data-shortcode-slide data-background=#141021 data-template=hamzadark1><h2 id=jaeger-ve-elastic-apm-kurulumu class="relative group">Jaeger ve Elastic APM Kurulumu <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#jaeger-ve-elastic-apm-kurulumu aria-label=Anchor>#</a></span></h2><p>Aşağıda, hem <strong>Jaeger</strong> hem de <strong>Elastic APM</strong> için temel kurulum örneklerini bulabilirsiniz. Bu örnekler, hızlı bir şekilde lokal ortamda çalıştırmak veya test amaçlı yapılandırmak içindir. Üretim ortamına uygun daha detaylı kurulumlar için resmi dokümanları inceleyebilirsiniz.</p></section><section><h3 id=1-jaeger-kurulumu class="relative group">1. Jaeger Kurulumu <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-jaeger-kurulumu aria-label=Anchor>#</a></span></h3><p><strong>Docker Compose</strong> ile Jaeger’i hızlıca çalıştırmak için örnek bir <code>docker-compose.yml</code> dosyası:</p><pre><code class=language-yaml data-line-numbers=3-14|4|5-6|7-14|8|9|10|11|12|13|14>version: '3'
services:
  jaeger:
    image: jaegertracing/all-in-one:1.21
    environment:
      - COLLECTOR_ZIPKIN_HOST_PORT=:9411  # Zipkin HTTP endpoint'i için kullanılan port ayarı (9411).
    ports:
      - &quot;16686:16686&quot;  # Jaeger web arayüzü
      - &quot;4317:4317&quot;    # OTLP Collector (gRPC)
      - &quot;4318:4318&quot;    # OTLP Collector (HTTP)
      - &quot;14250:14250&quot;  # Collector (model.proto)
      - &quot;14268:14268&quot;  # Collector (jaeger.thrift)
      - &quot;14269:14269&quot;  # Collector (SPM)
      - &quot;9411:9411&quot;    # Collector (Zipkin)
</code></pre></section><section><h3 id=2-elastic-apm-stack-kurulumu class="relative group">2. Elastic APM Stack Kurulumu <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-elastic-apm-stack-kurulumu aria-label=Anchor>#</a></span></h3><pre><code class=language-yaml data-line-numbers=|3-10|4|5|9-10|12-21|13|15-17|16|18-19|23-35|24|26-35|27|29|32-33|33>version: '3'
services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.9.0
    container_name: elasticsearch
    environment:
      - discovery.type=single-node
      - xpack.security.enabled=false
    ports:
      - &quot;9200:9200&quot;

  kibana:
    image: docker.elastic.co/kibana/kibana:8.9.0
    container_name: kibana
    environment:
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
      - xpack.security.enabled=false
    ports:
      - &quot;5601:5601&quot;
    depends_on:
      - elasticsearch

  apm-server:
    image: docker.elastic.co/apm/apm-server:8.9.0
    container_name: apm-server
    environment:
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
      - output.elasticsearch.enabled=true
      - output.elasticsearch.hosts=[&quot;elasticsearch:9200&quot;]
      - apm-server.secret_token=some_secret_token
      - xpack.security.enabled=false
    ports:
      - &quot;8200:8200&quot;
    depends_on:
      - elasticsearch
</code></pre></section><section><section data-shortcode-section><h2 id=instrumentations-nedir class="relative group">Instrumentations Nedir? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#instrumentations-nedir aria-label=Anchor>#</a></span></h2><p><strong>Instrumentations</strong>, bir uygulamanın belirli bölümlerini (ör. ASP.NET Core, HttpClient, Entity Framework, Redis, RabbitMQ) otomatik olarak <strong>izlenebilir</strong> hâle getiren bileşenler veya kütüphanelerdir. Bu sayede, uygulamanızın farklı katmanlarında (ör. web istekleri, veri tabanı işlemleri, mesaj kuyruğu vb.) gerçekleşen olaylar ve performans metrikleri <strong>otomatik</strong> olarak toplanır ve kaydedilir.</p></section><section><ul><li><strong>Neden Gerekli?</strong><ul><li>Uygulamanın kritik noktalarını (API çağrıları, veritabanı sorguları, mesaj kuyruğu işlemleri vb.) tek tek manuel kodlamadan izlemeye olanak tanır.</li><li>Performans sorunlarını veya hataları hızlı bir şekilde tespit edip kök neden analizi (root cause analysis) yapmak kolaylaşır.</li></ul></li></ul></section><section><ul><li><strong>Nasıl Çalışır?</strong><ul><li>Geliştiriciler, ilgili <strong>instrumentation</strong> paketini projeye ekler (NuGet).</li><li>Uygulamaya, konfigürasyonla hangi bileşenlerin izleneceği belirtilir (AddAspNetCoreInstrumentation, AddHttpClientInstrumentation, vb.).</li><li>Toplanan veriler, tercihe göre Jaeger, Zipkin, Elastic APM gibi dış araçlara veya konsola gönderilir (export edilir).</li></ul></li></ul></section><section><blockquote><p><strong>Özetle</strong>: Instrumentations, uygulamanızdaki karmaşık işlemleri <strong>elle uğraşmadan</strong> otomatik olarak ölçümleyerek daha kolay gözlemleme (observability) sağlar.</p></blockquote></section></section><section><p><figure><img src=/images/series/opentelemetry/opentelemetry-instrumentations-package.png alt="OpenTelemetry Console Packages" class="mx-auto my-0 rounded-md"></figure><br>Öncelikle bu paketleri yüklüyoruz.</p></section><section><h2 id=instrumentations class="relative group">Instrumentations <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#instrumentations aria-label=Anchor>#</a></span></h2><p>Aşağıda .NET projelerinde sıkça kullanılan <strong>instrumentation</strong> (izleme/ölçüm) seçeneklerini özetliyoruz. Bu bileşenler, OpenTelemetry veya benzeri kütüphaneler aracılığıyla uygulamanın önemli noktalarını (HTTP istekleri, veritabanı işlemleri, mesaj kuyruğu işlemleri vb.) otomatik veya yarı otomatik bir şekilde izlenebilir hâle getirir.</p></section><section><section data-shortcode-section><h3 id=1-aspnet-core-instrumentation class="relative group">1. ASP.NET Core Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-aspnet-core-instrumentation aria-label=Anchor>#</a></span></h3><ul><li><strong>Amaç</strong>: ASP.NET Core uygulamanızın <strong>HTTP istek</strong>lerinin süresini, yanıt kodlarını ve performansını otomatik olarak ölçmek.</li><li><strong>Neler Ölçülür?</strong><ul><li>Giden/gelen HTTP istekleri</li><li>İstek başlama ve bitiş zamanı</li><li>Yanıt durum kodu (ör. 200, 404, 500)</li><li>İstek başlıkları ve yol (endpoint) bilgileri</li></ul></li></ul></section><section><h3 id=1-aspnet-core-instrumentation-1 class="relative group">1. ASP.NET Core Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-aspnet-core-instrumentation-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Fayda</strong>:<ul><li>Uygulamanıza ek <strong>middleware</strong> eklemeden, out-of-the-box izleme alabilirsiniz.</li><li>Hangi endpoint’lerin ne kadar sıklıkla ve hangi sürelerde çalıştığını görebilirsiniz.</li></ul></li></ul></section></section><section><section data-shortcode-section><h3 id=2-httpclient-instrumentation class="relative group">2. HttpClient Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-httpclient-instrumentation aria-label=Anchor>#</a></span></h3><ul><li><strong>Amaç</strong>: Uygulamanız içindeki <strong>HttpClient</strong> çağrılarını izlemek ve performans sorunlarını tespit etmek.</li><li><strong>Neler Ölçülür?</strong><ul><li>Yapılan <strong>dış istek</strong> (URL), metot (GET, POST vb.)</li><li>Başlangıç ve bitiş zamanı</li><li>Yanıt kodu ve süresi (latency)</li></ul></li></ul></section><section><h3 id=2-httpclient-instrumentation-1 class="relative group">2. HttpClient Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-httpclient-instrumentation-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Fayda</strong>:<ul><li>Mikroservisler veya harici API’lere yapılan çağrıları kolayca takip edersiniz.</li><li>Yanıt süresi uzun mu, hatalar hangi oranda gerçekleşiyor vb. sorulara yanıt bulabilirsiniz.</li></ul></li></ul></section></section><section><section data-shortcode-section><h3 id=3-entity-framework-instrumentation class="relative group">3. Entity Framework Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#3-entity-framework-instrumentation aria-label=Anchor>#</a></span></h3><ul><li><strong>Amaç</strong>: Entity Framework (EF Core) ile yapılan <strong>veritabanı</strong> işlemlerini (sorgu, ekleme, güncelleme) otomatik olarak izlemek.</li><li><strong>Neler Ölçülür?</strong><ul><li>Oluşturulan sorgular (SQL)</li><li>Her sorgunun çalışma süresi (latency)</li><li>Hata durumu (ör. time-out, bağlantı hatası)</li></ul></li></ul></section><section><h3 id=3-entity-framework-instrumentation-1 class="relative group">3. Entity Framework Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#3-entity-framework-instrumentation-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Fayda</strong>:<ul><li>Veritabanı katmanındaki <strong>performans darboğazlarını</strong> (örneğin uzun süren sorgular) kolayca tespit edebilirsiniz.</li><li><strong>Tracing</strong> üzerinden hangi üst işlem (HTTP istek, background job vb.) sırasında bu sorguların tetiklendiğini görebilirsiniz.</li></ul></li></ul></section></section><section><section data-shortcode-section><h3 id=4-redis-instrumentation class="relative group">4. Redis Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#4-redis-instrumentation aria-label=Anchor>#</a></span></h3><ul><li><strong>Amaç</strong>: Redis kullanımıyla ilgili <strong>performans ve hata</strong> gözlemlemek (GET, SET, Publish/Subscribe vb.).</li><li><strong>Neler Ölçülür?</strong><ul><li>Redis komutları (örn. <code>GET</code>, <code>SET</code>, <code>MGET</code>, <code>PUBLISH</code>)</li><li>Komutun başlangıç ve bitiş zamanı</li><li>Hata durumları (ör. bağlantı hataları, time-out)</li></ul></li></ul></section><section><h3 id=4-redis-instrumentation-1 class="relative group">4. Redis Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#4-redis-instrumentation-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Fayda</strong>:<ul><li>Redis çağrılarının ne kadar sık yapıldığını ve ne kadar sürdüğünü tespit edebilirsiniz.</li><li>Uygulamanın nakit (cache) katmanında olup bitenleri <strong>tek bir trace</strong> altında izlemek mümkündür.</li></ul></li></ul></section></section><section><section data-shortcode-section><h3 id=5-masstransit-library-instrumentation class="relative group">5. MassTransit Library Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#5-masstransit-library-instrumentation aria-label=Anchor>#</a></span></h3><ul><li><strong>Amaç</strong>: <strong>RabbitMQ</strong> üzerinden mesajların kuyruklanması ve işlenmesi sürecini izlemek.</li><li><strong>MassTransit Kütüphanesi</strong>: .NET dünyasında RabbitMQ gibi mesajlaşma altyapılarına dair kolaylaştırıcı bir çerçeve (framework) sunar.</li></ul></section><section><h3 id=5-masstransit-library-instrumentation-1 class="relative group">5. MassTransit Library Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#5-masstransit-library-instrumentation-1 aria-label=Anchor>#</a></span></h3><ul><li><strong>Neler Ölçülür?</strong><ul><li>Kuyruğa gönderilen mesajlar (Publish/Send)</li><li>Tüketici (Consumer) tarafından alınan mesajların işleme süresi</li><li>Hata durumları (ör. ileti zaman aşımı, işleyici (handler) hatası)</li></ul></li></ul></section><section><h3 id=5-masstransit-library-instrumentation-2 class="relative group">5. MassTransit Library Instrumentation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#5-masstransit-library-instrumentation-2 aria-label=Anchor>#</a></span></h3><ul><li><strong>Fayda</strong>:<ul><li>Dağıtık bir mimaride, mesajların <strong>uçtan uca</strong> (publish -> queue -> consumer) hangi aşamalardan geçtiğini görebilir, hangi aşamada gecikme ya da hata oluştuğunu tespit edebilirsiniz.</li><li><strong>MassTransit</strong> ile entegre bir şekilde izleme sağlayarak, iş akışını (workflow) uçtan uca izleyebilirsiniz.</li></ul></li></ul></section></section><section><blockquote><p><strong>Özetle</strong>, bu instrumentations sayesinde uygulamanın önemli katmanları (web istekleri, veritabanı, mesaj kuyruğu vb.) hakkında ayrıntılı <strong>telemetri verileri</strong> elde edebilir, <strong>hata ayıklama</strong> ve <strong>performans analizi</strong> süreçlerinizi kolaylaştırabilirsiniz.</p></blockquote></section><section></section></div></div><script type=text/javascript src=/reveal-hugo/object-assign.js></script><script src=/reveal-js/dist/reveal.js></script><script type=text/javascript src=/reveal-js/plugin/markdown/markdown.js></script><script type=text/javascript src=/reveal-js/plugin/highlight/highlight.js></script><script type=text/javascript src=/reveal-js/plugin/zoom/zoom.js></script><script type=text/javascript src=/reveal-js/plugin/notes/notes.js></script><script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams={controlsbackarrows:"faded",hidecursortime:2e3,hideinactivecursor:!0,highlight_theme:"vs2015",history:!0,margin:.2,progress:!0,shownotes:!0,slide_number:!0,templates:{blue:{background:"#0011DD",transition:"zoom"},darkslide1:{background:"#000000"},darkslide10:{background:"#64538e"},darkslide11:{background:"#79689f"},darkslide12:{background:"#907eb5"},darkslide13:{background:"#a78dbf"},darkslide14:{background:"#c4a9db"},darkslide15:{background:"#e6c8ef"},darkslide2:{background:"#0a0a0f"},darkslide3:{background:"#12121c"},darkslide4:{background:"#1a1a28"},darkslide5:{background:"#222236"},darkslide6:{background:"#2c2944"},darkslide7:{background:"#383354"},darkslide8:{background:"#453c65"},darkslide9:{background:"#524576"},hamza1:{background:"#000002",transition:"convex"},hamza2:{background:"#0a274e",transition:"convex"},hamza3:{background:"#3658a3",transition:"convex"},hamza4:{background:"#708eff",transition:"convex"},hamza5:{background:"#bbc9ff",transition:"convex"},hamzadark1:{background:"#141021"},hamzadark2:{background:"#3c3557"},hamzadark3:{background:"#736494"},hamzadark4:{background:"#c099de"},hamzadark5:{background:"#f8cbed"}},theme:"night"},revealHugoPageParams={margin:.2,weight:1},revealHugoPlugins={plugins:[RevealMarkdown,RevealHighlight,RevealZoom,RevealNotes]},options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams),camelize(revealHugoPlugins));Reveal.initialize(options)</script></body></html>